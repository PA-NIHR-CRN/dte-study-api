@model BPOR.Rms.Models.Study.StudiesViewModel
<link href="/_StudyList.cshtml.css" rel="stylesheet" />


@if (Model.HasSearched)
{
    @if (!Model.Studies.Any())
    {
        <div class="govuk-inset-text">
            No studies match your search
        </div>
    }

    @if (Model.Studies.Any())
    {
        <div class="govuk-inset-text">
            @Model.Studies.Count() results match your search
        </div>
    }
}

<div style="gap: 15px; display: inline-flex; flex-wrap: wrap">
    @foreach (var item in Model.Studies)
    {
        <div style="width: 100%; height: 100%; padding: 20px; background: white; box-shadow: 0px 0px 4px rgba(11, 12, 12, 0.25); border-radius: 10px; border: 1px #ACBCC3 solid; justify-content: flex-start; align-items: flex-start; display: inline-flex">
            <div style="flex: 1 1 0; align-self: stretch; flex-direction: column; justify-content: flex-start; align-items: flex-start; gap: 10px; display: inline-flex">
                <div style="justify-content: flex-start; align-items: flex-start; gap: 10px; display: inline-flex">
                    <div style="padding-top: 1px; padding-left: 10px; padding-right: 10px; background: #EEF2F3; border-radius: 50px; flex-direction: column; justify-content: flex-start; align-items: flex-start; gap: 10px; display: inline-flex">
                        <div style="justify-content: flex-start; align-items: flex-start; display: inline-flex">
                            <div style="color: #193E72; font-size: 14px;  font-weight: 700; line-height: 24px; word-wrap: break-word">Study ID:&nbsp;</div>
                            <div style="color: #193E72; font-size: 14px;  font-weight: 700; line-height: 24px; word-wrap: break-word">
                                @Html.DisplayFor(modelItem => item.Id)
                            </div>
                        </div>
                    </div>
                    <div style="padding-top: 1px; padding-left: 10px; padding-right: 10px; background: #EEF2F3; border-radius: 50px; flex-direction: column; justify-content: flex-start; align-items: flex-start; gap: 10px; display: inline-flex">
                        <div style="justify-content: flex-start; align-items: flex-start; display: inline-flex">
                            <div style="color: #193E72; font-size: 14px;  font-weight: 700; line-height: 24px; word-wrap: break-word">CPMS ID:&nbsp;</div>
                            <div style="color: #193E72; font-size: 14px;  font-weight: 700; line-height: 24px; word-wrap: break-word">
                                @Html.DisplayFor(modelItem => item.CpmsId)
                            </div>
                        </div>
                    </div>
                </div>
                <div style="align-self: stretch; flex: 1 1 0; color: #0B0C0C; font-size: 24px;  font-weight: 700; line-height: 36px; word-wrap: break-word">
                    @Html.DisplayFor(modelItem => item.StudyName)
                </div>
                <div style="justify-content: flex-start; align-items: flex-start; gap: 20px; display: inline-flex">
                    <div style="justify-content: flex-start; align-items: flex-start; display: flex">
                        <p style="color: #505A5F; font-size: 18px;  font-weight: 700; line-height: 27px; word-wrap: break-word">Main Contact:&nbsp;</p>
                        <p style="color: #1D70B8; font-size: 18px;  font-weight: 400; line-height: 27px; word-wrap: break-word">
                            @Html.DisplayFor(modelItem => item.FullName)
                        </p>
                    </div>
                    <div style="justify-content: flex-start; align-items: flex-start; display: flex">
                        <p style="color: #505A5F; font-size: 18px;  font-weight: 700; line-height: 27px; word-wrap: break-word">Contact Email:&nbsp;</p>
                        <p style="color: #1D70B8; font-size: 18px;  font-weight: 400; line-height: 27px; word-wrap: break-word">
                            @Html.DisplayFor(modelItem => item.EmailAddress)
                        </p>
                    </div>
                </div>
            </div>
            <div style="width: 154px; align-self: stretch; justify-content: flex-start; align-items: flex-start; gap: 40px; display: flex">

                <div style="width: 1px; height: 100%; background: #ACBCC3"></div>
                <div style="height: 148px; flex-direction: column; justify-content: space-between; align-items: flex-start; display: inline-flex">
                    <div style="flex-direction: column; justify-content: flex-start; align-items: flex-start; gap: 10px; display: flex">
                        <div style="flex-direction: column; justify-content: flex-start; align-items: flex-start; display: flex">
                            <div style="color: #0B0C0C; font-size: 18px;  font-weight: 400; line-height: 27px; word-wrap: break-word">Enrolled:</div>
                            <div style="color: #193E72; font-size: 24px;  font-weight: 700; line-height: 36px; word-wrap: break-word">125</div>
                        </div>
                    </div>
                    @Html.ActionLink("View study", "Details", new { id = item.Id }, new { @class = "govuk-button" })

                </div>
            </div>
        </div>
    }
</div>
