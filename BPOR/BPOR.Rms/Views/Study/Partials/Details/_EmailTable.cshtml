@model BPOR.Rms.Models.Study.StudyDetailsViewModel

<style>
    /* Base styles for all tags */
    .govuk-tag {
        border-radius: 3px;
        text-align: center;
        font-size: 14px;
        font-style: normal;
        font-weight: 700;
        line-height: 24px;
        font-feature-settings: 'clig' off, 'liga' off;
        display: flex;
        height: 23px;
        padding: 5px 8px 4px 8px;
        justify-content: center;
        align-items: center;
        align-self: stretch;
    }

    /* Specific styles for orange tag */
    .govuk-tag--orange {
        background: #FDEBD8;
        color: #494949;
    }

    /* Specific styles for green tag */
    .govuk-tag--green {
        background: #388555;
        color: #FFFFFF;
    }
</style>


<div>
    <h2 class="govuk-heading-l govuk-!-margin-bottom-4">Emails sent</h2>
    <table class="govuk-table" style="width: 100%;">

        <thead class="govuk-table__head">
        <tr class="govuk-table__row">
            <th scope="col" class="govuk-table__header ">Date/time sent</th>
            <th scope="col" class="govuk-table__header ">Email Template</th>
            <th scope="col" class="govuk-table__header ">Number Emailed</th>
            <th scope="col" class="govuk-table__header ">Registered Interest</th>
            <th scope="col" class="govuk-table__header ">Bounced</th>
            <th scope="col" class="govuk-table__header ">Status</th>
        </tr>
        </thead>
        <tbody class="govuk-table__body">
        @foreach (var emailCampaign in Model.EmailCampaigns)
        {
            <tr class="govuk-table__row">
                <td class="govuk-table__cell">
                    @emailCampaign.CreatedAt.ToString("dd/MM/yyyy, HH:mm")
                </td>
                <td class="govuk-table__cell">@emailCampaign.Name</td>
                <td class="govuk-table__cell">@emailCampaign.EmailCampaignParticipants.Count() / @emailCampaign.TargetGroupSize</td>
                <td class="govuk-table__cell">0</td>
                <td class="govuk-table__cell">0</td>
                <td class="govuk-table__cell">
                    <strong class="govuk-tag @(!emailCampaign.EmailCampaignParticipants.Any() ? "govuk-tag--green" : "govuk-tag--orange")">
                        In progress
                    </strong>
                </td>
            </tr>
        }
        </tbody>
    </table>
</div>
