@using Microsoft.Extensions.Options
@using NIHR.Infrastructure.Settings
@inject IOptions<CookieSettings> cookieSettings

<section id="cookies" class="bg-athens cookie-warning no-print" aria-label="Cookies Banner">
    <div class="govuk-cookie-banner" role="region" aria-label="Cookies on @cookieSettings.Value.ServiceName">
        <div class="govuk-cookie-banner__message govuk-width-container">
            <div class="govuk-grid-row">
                <div class="govuk-grid-column-two-thirds">
                    <h2 class="govuk-cookie-banner__heading govuk-heading-m">Cookies on @cookieSettings.Value.ServiceName</h2>
                    <div class="govuk-cookie-banner__content">
                        <p class="govuk-body">We use some essential cookies to make this service work.</p>
                        <p class="govuk-body">We would like to use additional cookies to remember your settings, understand how you use @cookieSettings.Value.ServiceName and improve the service.</p>
                        <p class="govuk-body">We also use cookies set by other sites to help us deliver content via their services.</p>
                    </div>
                </div>
            </div>
            <div class="govuk-button-group">
                <button value="accept" type="submit" name="cookies" class="govuk-button" onclick="acceptCookie()" tabindex="0">
                    Accept additional cookies
                </button>
                <button value="reject" type="submit" name="cookies" class="govuk-button" onclick="rejectCookie()" tabindex="0">
                    Reject additional cookies
                </button>
                <a class="govuk-link" href=@cookieSettings.Value.PolicyLink>View cookies</a>
            </div>
        </div>
    </div>
</section>

<template id="confirmationMessageTemplate">
            <div class="govuk-grid-row">
                <div class="govuk-grid-column-two-thirds">
                    <div class="govuk-cookie-banner__content">
                        <p class="govuk-body">Youâ€™ve <span class="user-decision"></span> additional cookies. You can <a class="govuk-link" href=@cookieSettings.Value.PolicyLink>View our cookie policy for more information</a> at any time.</p>
                    </div>
                </div>
            </div>
            <div class="govuk-button-group">
                <button role="button" draggable="false" class="govuk-button" onclick="closeCookieBanner()" tabindex="0">
                    Hide cookie message
                </button>
            </div>
</template>

<script>
    window.cookieDomain = @Json.Serialize(cookieSettings.Value.Domain)
</script>