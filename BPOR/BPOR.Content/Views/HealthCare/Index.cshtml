@using Westwind.AspNetCore.Markdown

@model JdrHealthCarePage


@section Metadata {
    @{
        if (!string.IsNullOrEmpty(Model?.Description))
        {
            <meta name="description" content="@Model.Description" />
        }

        if (!string.IsNullOrEmpty(Model?.Keywords))
        {
            <meta name="keywords" content="@Model.Keywords" />
        }
    }
}

<section id="onThisPage">
    <div class="govuk-width-container">
        <div>
            <h2> On this page</h2>
        </div>
        <div class="govuk-button-group">
            <a href="#heroSection" class="button-width-fit-content govuk-button--secondary">Introduction</a>
            @{
                if (Model.AccordionSection1 != null)
                {
                    foreach (var accordionLink in Model.AccordionSection1.accordions)
                    {
                        <a class="button-width-fit-content govuk-button--secondary" href="#@{
                    @accordionLink.Title.Replace(" ","")
}">@accordionLink.Title</a>
                    }
                }
                if (Model.onlineResourcesSection != null)
                {
                    <a class="button-width-fit-content govuk-button--secondary" href="#onlineResourceSection">@Model.onlineResourcesSection.Title</a>
                }
                if (Model.contactUsSection != null)
                {
                    <a class="button-width-fit-content govuk-button--secondary" href="#contectUsSection">@Model.contactUsSection.Title</a>
                }

            }
        </div>
    </div>
</section>
<br />

<!-- Join dementaia research Hero TODO, some classes are bootstrap leftovers, will need cleared out-->
<section id="heroSection">
    <div class="hero my-2 even" style="background-image:url(@Model.Hero.Image.File.Url )">
        <div class="govuk-width-container">
            <div class="govuk-grid-column-two-thirds align-items-center bg-overlay row">
                <section class="col-xl-7 pt-2 pb-5 py-md-5 text">
                    <h1 class="display-1">@Model.Hero.Title</h1>

                    <markdown markdown="Hero.Body" />

                </section>
            </div>
        </div>
    </div>
</section>



<!-- banner section -->
@{
    if (Model.Banner != null)
    {

        <!-- subsection 3 Banner -->
        <section id="bannerSection" class="govuk-grid-column-full banner no-float">
            <div class="banner-container govuk-grid-column-two-thirds center">
                <span class="banner">
                    <markdown markdown="Banner" />
                </span>
            </div>
        </section>
    }
}

<!-- introductions sub section 1 - Video -->
@{
    if (Model.VideoSection != null)
    {
        <section id="mediaSection">
            <div class="odd video-section pb-3">
                <div class="govuk-width-container">
                    <div class="">
                        <div class="col-xl-4 my-2 order-last order-xl-first">
                            <section class="video-info info-card">
                                <h2>@Model.VideoSection.Heading</h2>

                                <markdown markdown="VideoSection.Description" />
                            </section>
                        </div>
                        <div class="video-wrapper">
                            <iframe src="@Model.VideoSection.VideoUrl" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen"></iframe>
                        </div>
                    </div>

                    @if (!string.IsNullOrEmpty(Model.VideoSection.Transcript))
                    {

                        <details>
                            <summary class="govuk-button button-wide">@Model.VideoSection.Link.Label</summary>
                            <section class="info-card">
                            @{
                                Model.VideoSection.Transcript = Model.VideoSection.Transcript.Replace("# ", "## ");
                            }
                            <markdown markdown="VideoSection.Transcript" />
                            </section>
                        </details>
                    }
                
                 <div>
                        <markdown markdown="VideoSection.LowerDescription" />
                 </div>   
                </div>
            </div>
        </section>
    }
}





<!-- Accordion -->
@if (Model?.AccordionSection1?.accordions != null)
{
    <div class="accordion govuk-width-container">
        <h2>@Model.AccordionSection1.title</h2>
        <markdown markdown="AccordionSection1.description"></markdown>
        @foreach (var accordion in Model.AccordionSection1.accordions)
        {

            <details id="@accordion?.Title.Replace(" ", "")" >
                <summary><h3 class="accordion-title govuk-grid-column-two-thirds">@accordion?.Title</h3></summary>
                <markdown>@accordion?.Content</markdown>
            </details>
        }
    </div>
}

@{
    if (Model.onlineResourcesSection != null)
    {
        <br />
        @* online resource section *@
        <section id="onlineResourceSection" class="govuk-grid-column-full govuk-!-margin-bottom-9 jdr-background-black ">
            <div class="govuk-grid-column-two-thirds center row">
                <div class="govuk-grid-column-one-half jdr-resources-image">
                    <img src="@Model.onlineResourcesSection.image.File.Url" alt="" role="presentation" class="w-100" />
                </div>
                <div class="govuk-grid-column-one-half jdr-resources-content">
                    <div class="jdr-resources-content-inner">
                    <h2>
                        @Model.onlineResourcesSection.Title
                    </h2>
                    <div>
                        <markdown markdown="onlineResourcesSection.Text" />
                    </div>
                    <a class="govuk-button--secondary button-width-fit-content" href="@{@Model.onlineResourcesSection.link.Url}" aria-label="@{@Model.onlineResourcesSection.link.AriaLabel}">@Model.onlineResourcesSection.link.Label </a>
                    </div>
                </div>
            </div>

        </section>
    }
}

@{
    if (Model.contactUsSection != null)
    {
        <section-with-heading heading="@Model.contactUsSection.Title" id="contectUsSection" class="govuk-grid-column-two-thirds center" >
            <div>
                <markdown markdown="contactUsSection.Text"/>
            </div>
            <div>
                <a class="govuk-button" href="@Model.contactUsSection.link.Url" aria-label="@Model.contactUsSection.link.AriaLabel"> @Model.contactUsSection.link.Label</a>
            </div>
        </section-with-heading>
    }
}
